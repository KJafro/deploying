{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Kurtj/Desktop/Uni Work/stevewebsitereact/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Kurtj/Desktop/Uni Work/stevewebsitereact/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Link}from\"react-router-dom\";import\"./login.css\";import axios from\"axios\";import{useContext,useRef}from\"react\";import{Context}from\"../../context/Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var userRef=useRef();var passwordRef=useRef();var _useContext=useContext(Context),dispatch=_useContext.dispatch,isFetching=_useContext.isFetching;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();dispatch({type:\"LOGIN_START\"});_context.prev=2;_context.next=5;return axios.post(\"/auth/login\",{username:userRef.current.value,password:passwordRef.current.value});case 5:res=_context.sent;dispatch({type:\"LOGIN_SUCCESS\",payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:\"LOGIN_FAILURE\"});case 12:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"loginTitle\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"loginInput\",placeholder:\"Enter your Username\",ref:userRef}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"loginInput\",placeholder:\"Enter your Password\",ref:passwordRef}),/*#__PURE__*/_jsx(\"button\",{className:\"loginButton\",type:\"submit\",disabled:isFetching,children:\"Login\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"loginRegisterButton\",children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/register\",children:\"Register\"})})]});}","map":{"version":3,"names":["Link","axios","useContext","useRef","Context","Login","userRef","passwordRef","dispatch","isFetching","handleSubmit","e","preventDefault","type","post","username","current","value","password","res","payload","data"],"sources":["C:/Users/Kurtj/Desktop/Uni Work/stevewebsitereact/client/src/pages/login/Login.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport \"./login.css\";\r\nimport axios from \"axios\";\r\nimport {useContext, useRef} from \"react\";\r\nimport { Context } from \"../../context/Context\";\r\n\r\nexport default function Login() {\r\n  const userRef = useRef();\r\n  const passwordRef = useRef();\r\n  const { dispatch, isFetching } = useContext(Context)\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    dispatch({type: \"LOGIN_START\"});\r\n    try {\r\n      const res = await axios.post(\"/auth/login\", {\r\n        username: userRef.current.value,\r\n        password: passwordRef.current.value,\r\n      })\r\n      dispatch({type: \"LOGIN_SUCCESS\", payload: res.data});\r\n    } catch (err) {\r\n      dispatch({type: \"LOGIN_FAILURE\"});\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n        <span className=\"loginTitle\">Login</span>\r\n        <form className=\"loginForm\" onSubmit={handleSubmit}>\r\n            <label>Username</label>\r\n            <input type=\"text\" className=\"loginInput\" placeholder=\"Enter your Username\" ref={userRef}/>\r\n            <label>Password</label>\r\n            <input type=\"password\" className=\"loginInput\" placeholder=\"Enter your Password\" ref={passwordRef}/>\r\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>Login</button>\r\n        </form>\r\n        <button className=\"loginRegisterButton\">\r\n          <Link className=\"link\" to=\"/register\">Register</Link>\r\n        </button>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"4SAAA,OAASA,IAAI,KAAQ,kBAAkB,CACvC,MAAO,aAAa,CACpB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAAQC,UAAU,CAAEC,MAAM,KAAO,OAAO,CACxC,OAASC,OAAO,KAAQ,uBAAuB,CAAC,wFAEhD,cAAe,SAASC,MAAK,EAAG,CAC9B,GAAMC,QAAO,CAAGH,MAAM,EAAE,CACxB,GAAMI,YAAW,CAAGJ,MAAM,EAAE,CAC5B,gBAAiCD,UAAU,CAACE,OAAO,CAAC,CAA5CI,QAAQ,aAARA,QAAQ,CAAEC,UAAU,aAAVA,UAAU,CAE5B,GAAMC,aAAY,4FAAG,iBAAOC,CAAC,2HAC3BA,CAAC,CAACC,cAAc,EAAE,CAClBJ,QAAQ,CAAC,CAACK,IAAI,CAAE,aAAa,CAAC,CAAC,CAAC,sCAEZZ,MAAK,CAACa,IAAI,CAAC,aAAa,CAAE,CAC1CC,QAAQ,CAAET,OAAO,CAACU,OAAO,CAACC,KAAK,CAC/BC,QAAQ,CAAEX,WAAW,CAACS,OAAO,CAACC,KAChC,CAAC,CAAC,QAHIE,GAAG,eAITX,QAAQ,CAAC,CAACK,IAAI,CAAE,eAAe,CAAEO,OAAO,CAAED,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,+EAErDb,QAAQ,CAAC,CAACK,IAAI,CAAE,eAAe,CAAC,CAAC,CAAC,mEAErC,kBAZKH,aAAY,4CAYjB,CAED,mBACE,aAAK,SAAS,CAAC,OAAO,wBAClB,aAAM,SAAS,CAAC,YAAY,UAAC,OAAK,EAAO,cACzC,cAAM,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAEA,YAAa,wBAC/C,uBAAO,UAAQ,EAAQ,cACvB,cAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,WAAW,CAAC,qBAAqB,CAAC,GAAG,CAAEJ,OAAQ,EAAE,cAC3F,uBAAO,UAAQ,EAAQ,cACvB,cAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,WAAW,CAAC,qBAAqB,CAAC,GAAG,CAAEC,WAAY,EAAE,cACnG,eAAQ,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAEE,UAAW,UAAC,OAAK,EAAS,GAC/E,cACP,eAAQ,SAAS,CAAC,qBAAqB,uBACrC,KAAC,IAAI,EAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW,UAAC,UAAQ,EAAO,EAC9C,GACP,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}